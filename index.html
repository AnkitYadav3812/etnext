<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ETNext ‚Äî Smart News & Weather</title>
<link rel="icon" href="etnext-logo.png" type="image/png" />

<!-- ‚úÖ Social Share Preview -->
<meta property="og:title" content="ETNext ‚Äî Smart News & Weather" />
<meta property="og:description" content="Stay ahead with AI-powered breaking news, live weather, and trending updates ‚Äî all in one place on ETNext." />
<meta property="og:image" content="https://ankityadav3812.github.io/etnext/etnext-logo.png" />
<meta property="og:url" content="https://ankityadav3812.github.io/etnext/" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="ETNext ‚Äî Smart News & Weather" />
<meta name="twitter:description" content="AI-powered news platform bringing you the latest from tech, business, sports, and weather." />
<meta name="twitter:image" content="https://ankityadav3812.github.io/etnext/etnext-logo.png" />
<link rel="apple-touch-icon" href="https://ankityadav3812.github.io/etnext/etnext-logo.png">
<meta name="theme-color" content="#d32f2f">

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
<style>
body {
  margin: 0;
  background: #fff;
  color: #111;
  font-family: "Poppins", sans-serif;
  transition: 0.3s ease;
}
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 2rem;
  background: #d32f2f;
  color: #fff;
  position: sticky;
  top: 0;
}
header img { height: 45px; border-radius: 6px; }
nav { display: flex; gap: 0.75rem; }
nav button {
  background: rgba(255,255,255,0.1);
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 25px;
  color: #fff;
  cursor: pointer;
  transition: 0.3s;
}
nav button:hover, nav button.active { background: #fff; color: #d32f2f; }
.search-container {
  max-width: 600px; margin: 1.5rem auto; display: flex; gap: 0.5rem;
}
.search-bar {
  flex: 1; padding: 0.75rem 1rem; border: 1px solid #ccc; border-radius: 25px;
}
.voice-btn {
  width: 45px; height: 45px; border-radius: 50%; border: none;
  background: #d32f2f; color: #fff; font-size: 1.3rem; cursor: pointer;
}
main { max-width: 1200px; margin: 1.5rem auto; padding: 0 1rem; }
.news-grid {
  display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem;
}
.news-card {
  background: #f6f6f8; border-radius: 10px; overflow: hidden;
  transition: 0.3s; box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}
.news-card:hover { transform: translateY(-3px); }
.news-card img { width: 100%; height: 200px; object-fit: cover; }
.news-card .content { padding: 1rem; }
.news-card h3 { font-size: 1.1rem; margin: 0.5rem 0; }
.read-more {
  display: inline-block; padding: 0.4rem 0.9rem; background: #d32f2f; color: #fff;
  text-decoration: none; border-radius: 20px; font-size: 0.8rem;
}
footer { background: #111; color: #ddd; text-align: center; padding: 1.5rem; margin-top: 2rem; }
.theme-toggle {
  position: fixed; bottom: 1.5rem; right: 1.5rem; background: #d32f2f;
  color: #fff; border: none; border-radius: 50%; width: 50px; height: 50px;
  font-size: 1.4rem; cursor: pointer;
}
#weather-widget {
  position: fixed; bottom: 85px; right: 1.5rem; background: #f6f6f8; color: #111;
  padding: 1rem; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  text-align: center; min-width: 170px; z-index: 50;
}
</style>
</head>

<body>
<header>
  <img src="etnext-logo.png" alt="ETNext Logo" />
  <nav id="nav"></nav>
</header>

<div class="search-container">
  <input id="search-input" class="search-bar" placeholder="Search news... (e.g. AI, Elections, Sports)" />
  <button id="voice-btn" class="voice-btn">üé§</button>
</div>

<main><div id="content">ü§ñ Loading News...</div></main>

<footer>¬© 2025 ETNext ‚Äî Smart News & Weather</footer>
<button class="theme-toggle" id="theme-toggle">üåô</button>
<div id="weather-widget">üå§ Loading weather...</div>

<script>
const categories = [
  { name: "üåç World", url: "https://news.google.com/rss?hl=en-IN&gl=IN&ceid=IN:en" },
  { name: "üíº Business", url: "https://news.google.com/rss/headlines/section/topic/BUSINESS?hl=en-IN&gl=IN&ceid=IN:en" },
  { name: "‚öôÔ∏è Tech", url: "https://news.google.com/rss/headlines/section/topic/TECHNOLOGY?hl=en-IN&gl=IN&ceid=IN:en" },
  { name: "üèè Sports", url: "https://news.google.com/rss/headlines/section/topic/SPORTS?hl=en-IN&gl=IN&ceid=IN:en" },
  { name: "üé¨ Entertainment", url: "https://news.google.com/rss/headlines/section/topic/ENTERTAINMENT?hl=en-IN&gl=IN&ceid=IN:en" }
];
const nav = document.getElementById("nav");
categories.forEach((cat, i) => {
  const btn = document.createElement("button");
  btn.textContent = cat.name;
  btn.onclick = () => loadNews(cat.url);
  nav.appendChild(btn);
});
loadNews(categories[0].url);

async function loadNews(url) {
  document.getElementById("content").innerHTML = "<div style='text-align:center;'>Loading news...</div>";
  try {
    const proxy = "https://api.codetabs.com/v1/proxy?quest=";
    const response = await fetch(proxy + encodeURIComponent(url));
    const text = await response.text();
    const parser = new DOMParser();
    const xml = parser.parseFromString(text, "text/xml");
    const items = Array.from(xml.querySelectorAll("item")).slice(0, 10);
    const grid = document.createElement("div");
    grid.className = "news-grid";
    items.forEach(item => {
      const title = item.querySelector("title").textContent;
      const link = item.querySelector("link").textContent;
      const desc = item.querySelector("description").textContent;
      const imgMatch = desc.match(/<img[^>]+src="([^">]+)"/);
      const img = imgMatch ? imgMatch[1] : "https://via.placeholder.com/400x200?text=ETNext+News";
      const clean = desc.replace(/<[^>]*>?/gm, "").slice(0, 150);
      const card = document.createElement("div");
      card.className = "news-card";
      card.innerHTML = `<img src="${img}" alt=""><div class="content"><h3>${title}</h3><p>${clean}</p><a href="${link}" target="_blank" class="read-more">Read More</a></div>`;
      grid.appendChild(card);
    });
    document.getElementById("content").innerHTML = "";
    document.getElementById("content").appendChild(grid);
  } catch (err) {
    document.getElementById("content").innerHTML = "‚ö†Ô∏è Error loading news.";
  }
}

// üå§ Weather
const weather = document.getElementById("weather-widget");
async function getWeather(city) {
  try {
    const res = await fetch(`https://api.weatherapi.com/v1/current.json?key=6b36b4ff0a7549ce8b412374424110&q=${encodeURIComponent(city)}`);
    const d = await res.json();
    weather.innerHTML = `<h4>${d.location.name}</h4><img src="${d.current.condition.icon}" alt=""><div>${d.current.temp_c}¬∞C | ${d.current.condition.text}</div>`;
  } catch {
    weather.innerHTML = "‚òÅÔ∏è Weather unavailable";
  }
}
if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(async pos => {
    const geo = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${pos.coords.latitude}&longitude=${pos.coords.longitude}&localityLanguage=en`);
    const loc = await geo.json();
    getWeather(loc.city || "Delhi");
  }, () => getWeather("Delhi"));
} else getWeather("Delhi");

// üåô Theme toggle
document.getElementById("theme-toggle").addEventListener("click", () => {
  document.body.classList.toggle("dark");
  document.getElementById("theme-toggle").textContent =
    document.body.classList.contains("dark") ? "‚òÄÔ∏è" : "üåô";
});
</script>
</body>
</html>
